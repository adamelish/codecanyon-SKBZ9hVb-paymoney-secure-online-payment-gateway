<?php

if (!function_exists('cardTitle')) {

    function cardTitle(\Modules\Virtualcard\Entities\VirtualcardHolder $virtualcardHolder)
    {
        return ($virtualcardHolder->card_holder_type == \Modules\Virtualcard\Enums\CardHolderTypes::BUSINESS->value
                ? $virtualcardHolder->business_name
                : ($virtualcardHolder->title . ' ' . $virtualcardHolder->first_name . ' ' . $virtualcardHolder->last_name));
    }
}


if (!function_exists('maskCardNumber')) {

    
    function maskCardNumber(string $cardNumber): string
    {
        $cardNumber = (string) $cardNumber;
        
        // Always return exactly 12 stars followed by the last 4 digits
        $masked = str_repeat('*', 12);
        $lastFour = substr($cardNumber, -4);
        
        return $masked . $lastFour;
    }
}

function maskCardNumberForLogo(string $cardNumber): string
{
    $cardNumber = (string) $cardNumber;
    $lastFour = substr($cardNumber, -4); // Get last 4 characters (or fewer if shorter)
    
    return '****' . $lastFour;
}


function formatCardNumber(string $cardNumber): string
{
    $cardNumber = preg_replace('/\D/', '', $cardNumber);
    $formattedCardNumber = implode(' ', str_split($cardNumber, 4));

    return $formattedCardNumber;
}

if (!function_exists('kycRequired')) {

    function kycRequired()
    {
        $response = ['status' => \Illuminate\Http\Response::HTTP_OK];
        $user = auth()->user();

        if ($user->address_verified != 1 && $user->identity_verified != 1) {
            return [
                'status'  => \Illuminate\Http\Response::HTTP_BAD_REQUEST,
                'message' => __('KYC Required! Please complete your identity and address verification.'),
                'url'     => route('user.kyc.verifications.initiate'),
            ];
        } else if ($user->address_verified != 1) {
            return [
                'status'  => \Illuminate\Http\Response::HTTP_BAD_REQUEST,
                'message' => __('Please complete your address verification.'),
                'url'     => route('user.kyc.verifications.address'),
            ];
        } else if ($user->identity_verified != 1) {
            return [
                'status'  => \Illuminate\Http\Response::HTTP_BAD_REQUEST,
                'message' => __('Please complete your identity verification.'),
                'url'     => route('user.kyc.verifications.initiate'),
            ];
        }

        return $response;
    }
}

if (!function_exists('handleVirtualcardAccess')) {

    function handleVirtualcardAccess(): bool
    {
        $cardCreatorPreference = preference('card_creator');
        $userType = auth()->user()->type;

        if ($cardCreatorPreference === 'Both') {
            return true;
        }

        if (
            ($cardCreatorPreference === 'Users' && $userType !== 'user') ||
            ($cardCreatorPreference === 'Merchants' && $userType !== 'merchant')
        ) {
            return false;
        }

        return true;
    }
}

if (!function_exists('currencyDetails')) {

    function currencyDetails(string $code): object
    {
        return \App\Models\Currency::where('code', $code)->first(['type', 'symbol', 'code', 'id']);
    }
}

if (!function_exists('virtualcardImage')) {
    /**
     * Virtualcard Image
     *
     * @param  mixed $type
     * @return string
     */
    function virtualcardImage(?string $type): string
    {
        $defaultImages = [
            'virtualcard_topup' => 'Modules/Virtualcard/Resources/assets/images/virtualcard-topup.jpg',
            'virtualcard_withdrawal' => 'Modules/Virtualcard/Resources/assets/images/virtualcard-withdrawal.jpg',
        ];

        return array_key_exists(strtolower($type), $defaultImages) ? asset($defaultImages[strtolower($type)]) : asset('public/dist/images/default-img.png');
    }
}

if (!function_exists('virtualcardPaymentDetails')) {
    /**
     * virtualcardPaymentDetails
     *
     * @param  int $id
     * @param  string $type
     * @return array
     */
    function virtualcardPaymentDetails($id, $transactionType)
    {
        if ($transactionType == Virtualcard_Topup) {
            $transData =  Modules\Virtualcard\Entities\VirtualcardTopup::with([
                'virtualcard:id,card_brand,card_number,currency_code',
            ])->find($id);
        } elseif ($transactionType == Virtualcard_Withdrawal) {
            $transData =  Modules\Virtualcard\Entities\VirtualcardWithdrawal::with([
                'virtualcard:id,card_brand,card_number,currency_code',
            ])->find($id);
        }
        return $transData;
    }
}


if (!function_exists('virtualcardSvgIcons')) {


    function virtualcardSvgIcons(string $brand)
    {
        $icons = [
            'visa_card_icon' => '
                <svg height="32" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g id="card_x2C__income_x2C__pattern_x2C__paying_x2C__payment_x2C__visa_x2C_"><g><path d="M495.951,389.996c0,8.836-7.123,15.959-15.959,15.959H32.011    c-8.839,0-15.962-7.123-15.962-15.959V122.004c0-8.836,7.123-15.959,15.962-15.959h447.981c8.836,0,15.959,7.123,15.959,15.959    V389.996z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#3A58A8;"/><polygon points="236.883,301.083 213.438,301.083 228.136,211     251.581,211   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/><path d="M193.692,211l-22.274,61.955l-2.705-13.347l0,0l-7.847-40.487    c0,0-0.989-8.121-11.181-8.121h-36.881l-0.452,1.533c0,0,11.272,2.348,24.529,10.285l20.38,78.265h24.437L218.939,211H193.692    L193.692,211z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/><path d="M378.096,301.083h21.549L380.889,211h-18.844    c-8.748,0-10.818,6.766-10.818,6.766l-34.994,83.317h24.438l4.875-13.433h29.846L378.096,301.083z M352.303,269.258l12.355-33.729    l6.943,33.729H352.303z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/><path d="M318.131,232.646l3.334-19.298c0,0-10.371-3.969-21.098-3.969    c-11.633,0-39.314,5.139-39.314,29.848c0,23.267,32.457,23.537,32.457,35.799c0,12.176-29.121,10.006-38.682,2.256l-3.519,20.29    c0,0,10.464,5.052,26.515,5.052c15.955,0,40.123-8.299,40.123-30.845c0-23.353-32.732-25.607-32.732-35.8    C285.215,225.881,308.033,227.143,318.131,232.646L318.131,232.646z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/><path d="M168.713,259.608l-7.847-40.487c0,0-0.989-8.121-11.181-8.121    h-36.881l-0.452,1.533c0,0,17.767,3.697,34.807,17.493C163.393,243.194,168.713,259.608,168.713,259.608L168.713,259.608z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FAA634;"/></g></g><g id="Layer_1"/>
                </svg>',

            'master_card_icon' => '
                <svg height="32" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g id="card_x2C__credit_x2C__Mastercard_x2C___bank_x2C__debit_x2C_"><g><path d="M495.998,389.952c0,8.835-7.215,16.051-16.051,16.051H32.053    c-8.836,0-16.051-7.216-16.051-16.051V122.049c0-8.836,7.215-16.052,16.051-16.052h447.895c8.836,0,16.051,7.216,16.051,16.052    V389.952z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#14477C;"/><polygon points="313.576,342.069 317.994,341.983 322.418,341.712     326.743,341.077 330.982,340.356 335.13,339.364 339.277,338.286 343.244,336.839 347.213,335.311 350.996,333.591 354.693,331.7     358.304,329.623 361.822,327.374 365.248,324.94 368.495,322.414 371.558,319.709 374.619,316.819 377.418,313.843     380.129,310.688 382.74,307.44 385.174,304.108 387.338,300.589 389.506,296.985 391.306,293.288 393.111,289.412 394.645,285.53     396,281.476 397.172,277.415 398.158,273.269 398.885,268.937 399.427,264.703 399.783,260.279 399.871,255.867 399.783,251.443     399.427,247.025 398.885,242.786 398.158,238.554 397.172,234.4 396,230.347 394.645,226.285 393.111,222.41 391.306,218.62     389.506,214.924 387.338,211.318 385.174,207.801 382.74,204.467 380.129,201.22 377.418,198.065 374.619,195.089     371.558,192.292 368.495,189.587 365.248,186.975 361.822,184.627 358.304,182.371 354.693,180.301 350.996,178.403     347.213,176.69 343.244,175.162 339.277,173.807 335.13,172.636 330.982,171.644 326.743,170.923 322.418,170.381     317.994,170.018 313.576,169.931 309.158,170.018 304.833,170.381 300.501,170.923 296.268,171.644 292.115,172.636     287.969,173.807 283.996,175.162 280.121,176.69 276.332,178.403 272.635,180.301 269.031,182.371 265.512,184.627     262.179,186.975 258.925,189.587 255.771,192.292 252.801,195.089 249.91,198.065 247.299,201.22 244.68,204.467 242.338,207.801     240.083,211.318 238.013,214.924 236.115,218.62 234.402,222.41 232.867,226.285 231.519,230.347 230.348,234.4 229.35,238.554     228.635,242.786 228.092,247.025 227.729,251.443 227.637,255.867 227.729,260.279 228.092,264.703 228.635,268.937     229.35,273.269 230.348,277.415 231.519,281.476 232.867,285.53 234.402,289.412 236.115,293.288 238.013,296.985     240.083,300.589 242.338,304.108 244.68,307.44 247.299,310.688 249.91,313.843 252.801,316.819 255.771,319.709 258.925,322.414     262.179,324.94 265.512,327.374 269.031,329.623 272.635,331.7 276.332,333.591 280.121,335.311 283.996,336.839 287.969,338.286     292.115,339.364 296.268,340.356 300.501,341.077 304.833,341.712 309.158,341.983 313.576,342.069   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><polygon points="198.424,342.069 202.842,341.983 207.167,341.712     211.499,341.077 215.732,340.356 219.885,339.364 224.037,338.286 228,336.839 231.875,335.311 235.666,333.591 239.361,331.7     242.967,329.623 246.484,327.374 249.818,324.94 253.072,322.414 256.227,319.709 259.196,316.819 262.087,313.843     264.705,310.688 267.318,307.44 269.659,304.108 271.914,300.589 273.984,296.985 275.883,293.288 277.596,289.412 279.13,285.53     280.479,281.476 281.655,277.415 282.648,273.269 283.363,268.937 283.904,264.703 284.269,260.279 284.36,255.867     284.269,251.443 283.904,247.025 283.363,242.786 282.648,238.554 281.655,234.4 280.479,230.347 279.13,226.285 277.596,222.41     275.883,218.62 273.984,214.924 271.914,211.318 269.659,207.801 267.318,204.467 264.705,201.22 262.087,198.065     259.196,195.089 256.227,192.292 253.072,189.587 249.818,186.975 246.484,184.627 242.967,182.371 239.361,180.301     235.666,178.403 231.875,176.69 228,175.162 224.037,173.807 219.885,172.636 215.732,171.644 211.499,170.923 207.167,170.381     202.842,170.018 198.424,169.931 194.006,170.018 189.582,170.381 185.256,170.923 181.018,171.644 176.877,172.636     172.724,173.807 168.756,175.162 164.787,176.69 161.004,178.403 157.308,180.301 153.696,182.371 150.185,184.627     146.758,186.975 143.506,189.587 140.443,192.292 137.38,195.089 134.583,198.065 131.871,201.22 129.26,204.467 126.826,207.801     124.662,211.318 122.494,214.924 120.694,218.62 118.889,222.41 117.355,226.285 116.006,230.347 114.828,234.4 113.93,238.554     113.115,242.786 112.58,247.025 112.216,251.443 112.13,255.867 112.216,260.279 112.58,264.703 113.115,268.937 113.93,273.269     114.828,277.415 116.006,281.476 117.355,285.53 118.889,289.412 120.694,293.288 122.494,296.985 124.662,300.589     126.826,304.108 129.26,307.44 131.871,310.688 134.583,313.843 137.38,316.819 140.443,319.709 143.506,322.414 146.758,324.94     150.185,327.374 153.696,329.623 157.308,331.7 161.004,333.591 164.787,335.311 168.756,336.839 172.724,338.286     176.877,339.364 181.018,340.356 185.256,341.077 189.582,341.712 194.006,341.983 198.424,342.069   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#EB2230;"/><polygon points="245.943,202.933 291.666,202.933 291.666,198.243     249.91,198.243 245.943,202.933   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><polygon points="239.091,213.303 291.666,213.303 291.666,208.613     241.796,208.613 239.091,213.303   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><polygon points="233.952,223.673 291.666,223.673 291.666,218.983     236.028,218.983 233.952,223.673   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><polygon points="230.434,234.043 291.666,234.043 291.666,229.446     231.875,229.446 230.434,234.043   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><polygon points="232.504,284.359 291.844,284.359 291.844,279.671     231.068,279.671 232.504,284.359   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><polygon points="236.836,294.729 291.844,294.729 291.844,290.04     234.673,290.04 236.836,294.729   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><polygon points="243.059,305.1 291.844,305.1 291.844,300.411     240.083,300.411 243.059,305.1   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><polygon points="251.537,315.47 291.844,315.47 291.844,310.78     247.391,310.78 251.537,315.47   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><polygon points="228.363,244.413 291.666,244.413 291.666,239.811     229.264,239.811 228.363,244.413   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><polygon points="266.954,273.989 291.123,273.989 291.123,269.3     267.859,269.3 266.954,273.989   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><polygon points="268.846,263.619 291.123,263.619 291.123,258.93     269.752,258.93 268.846,263.619   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><polygon points="226.736,258.93 233.047,258.93 233.047,263.619     227.101,263.619 226.736,258.93   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><path d="M391.576,304.379c2.256,0,4.061,1.892,4.061,4.054    c0,2.256-1.805,4.061-4.061,4.061c-2.255,0-4.054-1.805-4.054-4.061C387.522,306.271,389.321,304.379,391.576,304.379    L391.576,304.379z M391.576,305.1c1.898,0,3.426,1.534,3.426,3.333c0,1.898-1.527,3.432-3.426,3.432    c-1.799,0-3.34-1.533-3.34-3.432C388.236,306.634,389.777,305.1,391.576,305.1L391.576,305.1z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><path d="M390.049,310.238v-3.426h1.441c0.357,0,0.629,0,0.813,0.093c0.173,0.086,0.271,0.178,0.357,0.265    c0.087,0.185,0.179,0.364,0.179,0.542c0,0.271-0.092,0.542-0.179,0.635c-0.185,0.179-0.45,0.271-0.728,0.357    c0.186,0.093,0.277,0.185,0.37,0.271c0.086,0.092,0.271,0.271,0.357,0.542l0.45,0.721h-0.808l-0.548-0.813    c-0.094-0.271-0.266-0.357-0.357-0.449c0-0.087-0.093-0.087-0.18-0.179c-0.092,0-0.184,0-0.363,0h-0.092v1.441H390.049z     M390.764,308.254h0.455c0.357,0,0.537,0,0.629-0.086c0.086,0,0.186,0,0.186-0.093c0.086-0.092,0.086-0.178,0.086-0.271    s0-0.179-0.086-0.271c-0.1-0.094-0.186-0.094-0.277-0.18c0,0-0.18,0-0.45,0h-0.542V308.254z" style="fill:#FBB230;"/><path d="M390.677,270.472c2.255,0,4.055,1.805,4.055,4.061    c0,2.255-1.8,4.054-4.055,4.054s-4.054-1.799-4.054-4.054C386.623,272.276,388.422,270.472,390.677,270.472L390.677,270.472z     M390.677,271.192c1.898,0,3.427,1.533,3.427,3.34c0,1.891-1.528,3.426-3.427,3.426c-1.897,0-3.426-1.535-3.426-3.426    C387.251,272.726,388.779,271.192,390.677,271.192L390.677,271.192z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/><path d="M389.143,276.245v-3.34h1.442c0.362,0,0.634,0,0.813,0.092c0.092,0,0.264,0.18,0.357,0.271    c0.092,0.179,0.178,0.357,0.178,0.543c0,0.271-0.086,0.449-0.271,0.627c-0.086,0.18-0.356,0.271-0.627,0.364    c0.092,0.086,0.271,0.179,0.363,0.271c0.092,0.086,0.178,0.266,0.357,0.537l0.455,0.635h-0.813l-0.543-0.722    c-0.179-0.271-0.271-0.45-0.363-0.45c-0.086-0.092-0.086-0.185-0.173-0.185c-0.099,0-0.185,0-0.363,0h-0.179v1.356H389.143z     M389.777,274.353h0.542c0.357,0,0.536,0,0.628-0.092c0.088,0,0.18-0.093,0.18-0.093c0.092-0.086,0.092-0.179,0.092-0.271    c0-0.086-0.092-0.271-0.092-0.271c-0.092-0.086-0.18-0.179-0.271-0.179s-0.271,0-0.536,0h-0.542V274.353z" style="fill:#FFFFFF;"/><path d="M332.695,276.873l5.859-30.654h7.303l0.905,3.154    c1.35-1.355,3.604-3.154,8.114-3.154l-2.254,8.115c-1.984,0-5.053-0.363-7.572,5.588c-1.893,4.511-2.798,11.991-3.791,16.951    H332.695z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/><path d="M222.141,238.554h8.108l-1.8,8.114h4.511l-1.355,6.311h-4.055    l-2.255,12.175c-0.449,2.255,0,4.511,4.51,3.604l-0.899,6.766c-4.868,3.697-14.615,0.992-13.081-8.115L222.141,238.554z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/><path d="M258.296,263.348c0.9-4.959,3.156-17.129-11.361-17.129    c-13.524,0-15.33,13.525-15.33,15.324c-0.444,1.805-0.444,15.33,13.98,15.33c3.604,0,8.657-0.45,10.912-1.35l1.35-6.315    c-1.35,0.456-5.952,0.905-9.557,0.905c-3.154,0-8.564,0-7.665-6.766H258.296z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/><polygon points="159.92,276.873 167.135,239.903 153.068,239.903     143.147,262.448 141.342,239.903 128.268,239.903 121.052,276.873 129.167,276.873 134.583,250.273 136.838,276.873     144.503,276.873 156.223,250.723 151.262,276.873   " style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/><path d="M169.385,247.118l-1.35,6.766    c2.255,0,7.664-0.905,10.369-0.905s6.311-0.449,4.961,4.061c-2.256,0-17.137-2.256-19.392,10.819    c-1.257,8.657,9.021,11.813,15.33,7.665l0.905,1.8h7.66l3.16-16.681C194.363,245.584,179.847,245.313,169.385,247.118    L169.385,247.118z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/><path d="M303.662,249.823c-2.076-1.264-3.34-1.264-5.952-1.264    c-2.526,0-8.479,2.526-9.292,9.286c-1.264,8.479,4.239,12.268,12.262,9.742l2.169,7.215c-13.704,6.852-26.788-3.79-22.456-20.383    c3.512-12.533,20.108-20.105,28.408-9.736L303.662,249.823z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/><path d="M375.168,249.823c-22.096-16.594-30.666,27.05-13.531,27.05    c2.705,0,5.416-1.35,7.216-2.255l0.899,2.255h9.021l7.216-38.775h-8.57L375.168,249.823z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/><path d="M310.15,247.118l-1.35,6.766    c2.248,0,7.665-0.905,10.364-0.905c2.712,0,5.866-0.449,4.966,4.061c-2.254,0-17.135-2.256-19.384,10.819    c-0.913,6.31,4.504,9.465,8.564,9.465c4.054,0,5.409-0.9,6.759-1.8l0.9,1.8h7.671l3.154-16.681    C335.223,245.584,320.699,245.313,310.15,247.118L310.15,247.118z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/><path d="M240.625,257.488h10.37    C252.166,249.281,242.338,250.907,240.625,257.488L240.625,257.488z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#EB2230;"/><path d="M182.016,263.348c-1.355,0-4.51-0.899-7.222,0.906    c-2.698,1.799-3.604,4.954-0.444,5.859c2.699,0.899,6.311-0.905,7.209-3.61L182.016,263.348z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#EB2230;"/><path d="M371.107,254.783c-2.705-3.611-8.564-0.899-10.37,5.859    c-1.349,4.511,1.356,7.666,4.061,7.666C370.479,268.309,373.905,259.023,371.107,254.783L371.107,254.783z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><path d="M323.225,263.348c-1.348,0-4.504-0.899-7.215,0.906    c-2.698,1.799-3.604,4.954-0.443,5.859c2.699,0.899,6.76-0.905,7.209-3.61L323.225,263.348z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FBB230;"/><path d="M258.296,277.323l0.457-3.155l5.409-27.5h7.21l0.899,3.155    c1.355-1.355,3.611-3.155,8.121-3.155l-2.256,8.115c-1.713,0-5.323-0.363-8.028,6.852c-1.534,4.147-2.434,11.184-3.247,15.688    H258.296z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/><path d="M214.654,254.063h-0.364h-0.357l-0.356-0.092l-0.364-0.087    h-0.363l-0.358-0.093c-1.626-0.178-2.976-0.271-4.596-0.178c-4.153,0.357-5.952,2.969-2.439,4.953    c2.797,1.627,4.965,1.355,6.851,3.161c4.062,3.784,1.984,11.091-2.526,13.883l-0.807,0.363l-0.9,0.363l-0.991,0.265l-0.899,0.271    c-4.332,0.721-10.191,0.542-14.432-0.899l1.172-6.045c3.426,0.721,9.021,2.255,11.633,0.456c2.977-1.984,0.271-4.332-1.898-5.323    l-1.078-0.358l-1.078-0.449c-8.57-3.883-6.58-14.253,1.528-16.415c3.247-0.721,6.495-0.721,9.834-0.45h0.628    c0.814,0.087,1.535,0.18,2.256,0.358h0.357l0.271,0.092h0.271l0.178,0.092h0.271L214.654,254.063L214.654,254.063z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/></g></g><g id="Layer_1"/>
                </svg>',
            'card_network' => '
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    aria-hidden="true" role="img" class="text-4xl text-white" width="1em" height="1em"
                    viewBox="0 0 24 24">
                    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin=" round"
                        stroke-width="1.5"
                        d="M17.46 21c1.32-2.76 2.04-5.76 2.04-9s-.72-6.36-2.04-9m-4.32 15.96C14.1 16.8 14.7 14.4 14.7 12s-.6-4.92-1.56-7.08m-4.32 12C9.54 15.36 9.9 13.68 9.9 12s-.36-3.48-1.08-4.92M4.5 14.76c.36-.84.6-1.8.6-2.76s-.24-2.04-.6-2.88">
                    </path>
                </svg>
            ',
            'card_chip' => '
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    aria-hidden="true" role="img" class="text-4xl text-white iconify iconify--carbon"
                    width="1em" height="1em" viewBox="0 0 32 32">
                    <path fill="currentColor" d="M11 11v10h10V11Zm8 8h-6v-6h6Z"></path>
                    <path fill="currentColor"
                        d="M30 13v-2h-4V8a2 2 0 0 0-2-2h-3V2h-2v4h-6V2h-2v4H8a2 2 0 0 0-2 2v3H2v2h4v6H2v2h4v3a2 2 0 0 0 2 2h3v4h2v-4h6v4h2v-4h3a2 2 0 0 0 2-2v-3h4v-2h-4v-6Zm-6 11H8V8h16Z">
                    </path>
                </svg>
            ',
            'visa_logo' => '
                <svg class="card-logo" xmlns="http://www.w3.org/2000/svg" width="750" height="243" viewBox="0 0 750 243" fill="none">
                    <path d="M371.35 5.22502L321.275 239.4H260.675L310.825 5.22502H371.35ZM626.275 156.425L658.15 68.475L676.525 156.425H626.275ZM693.85 239.4H749.9L701 5.22502H649.275C649.2 5.22502 649.1 5.22502 649.025 5.22502C637.55 5.22502 627.7 12.25 623.55 22.225L623.475 22.4L532.6 239.4H596.2L608.85 204.4H686.575L693.85 239.4ZM535.725 162.95C535.975 101.125 450.25 97.725 450.85 70.1C451.05 61.7 459.025 52.75 476.525 50.475C479.775 50.15 483.525 49.95 487.325 49.95C505.1 49.95 521.95 54 536.95 61.25L536.275 60.95L546.9 11.275C530.075 4.75001 510.6 0.95 490.25 0.875H490.225C430.325 0.875 388.2 32.75 387.825 78.325C387.45 112.025 417.9 130.8 440.875 142.05C464.5 153.525 472.425 160.9 472.3 171.125C472.15 186.875 453.5 193.775 436.05 194.05C435.25 194.075 434.275 194.075 433.325 194.075C411.55 194.075 391.05 188.6 373.15 178.925L373.825 179.25L362.85 230.55C382.5 238.425 405.275 242.975 429.125 242.975C429.5 242.975 429.875 242.975 430.25 242.975H430.2C493.85 242.975 535.475 211.55 535.7 162.875L535.725 162.95ZM284.775 5.22502L186.625 239.4H122.575L74.2746 52.475C73.3496 43.375 67.7746 35.775 60.0246 31.975L59.8746 31.9C42.6746 23.45 22.6746 16.575 1.74961 12.25L0.0996094 11.975L1.54961 5.20001H104.65C118.7 5.20001 130.375 15.475 132.55 28.9L132.575 29.05L158.1 164.575L221.15 5.175L284.775 5.22502Z" fill="#FCFDFF"/>
                </svg>
            ',
            'master_logo' => '
                <svg class="card-logo" xmlns="http://www.w3.org/2000/svg" width="800px" height="800px" viewBox="0 -140 780 780"
                    enable-background="new 0 0 780 500" version="1.1" xml:space="preserve">
                    <path
                        d="m449.01 250c0 99.143-80.371 179.5-179.51 179.5s-179.5-80.361-179.5-179.5c0-99.133 80.362-179.5 179.5-179.5 99.137 0 179.51 80.371 179.51 179.5"
                        fill="#D9222A" />
                    <path
                        d="m510.49 70.496c-46.379 0-88.643 17.596-120.5 46.467-6.49 5.889-12.548 12.237-18.125 18.996h36.267c4.965 6.037 9.536 12.387 13.685 19.012h-63.635c-3.827 6.122-7.281 12.469-10.342 19.008h84.313c2.894 6.185 5.431 12.53 7.601 19.004h-99.513c-2.09 6.234-3.832 12.58-5.217 19.008h109.94c2.689 12.49 4.045 25.231 4.042 38.008 0 19.935-3.254 39.112-9.254 57.021h-99.513c2.164 6.477 4.7 12.824 7.596 19.008h84.316c-3.063 6.541-6.519 12.889-10.347 19.013h-63.625c4.147 6.62 8.719 12.966 13.685 18.996h36.259c-5.57 6.772-11.63 13.127-18.13 19.013 31.857 28.866 74.117 46.454 120.5 46.454 99.139 0 179.51-80.361 179.51-179.5 0-99.129-80.371-179.5-179.51-179.5"
                        fill="#EE9F2D" />
                    <path
                        d="m666.07 350.06c0-3.199 2.592-5.801 5.796-5.801s5.796 2.602 5.796 5.801-2.592 5.801-5.796 5.801-5.796-2.602-5.796-5.801zm5.796 4.408c2.434-1e-3 4.407-1.974 4.408-4.408 0-2.432-1.971-4.402-4.402-4.404h-6e-3c-2.429-3e-3 -4.4 1.963-4.404 4.391v0.014c-2e-3 2.433 1.968 4.406 4.4 4.408 1e-3 -1e-3 3e-3 -1e-3 4e-3 -1e-3zm-0.783-1.86h-1.187v-5.096h2.149c0.45 0 0.908 0 1.305 0.254 0.413 0.279 0.646 0.771 0.646 1.279 0 0.571-0.338 1.104-0.884 1.312l0.938 2.25h-1.315l-0.779-2.017h-0.871l-2e-3 2.018zm0-2.89h0.658c0.246 0 0.505 0.021 0.726-0.1 0.195-0.125 0.296-0.359 0.296-0.584-5e-3 -0.209-0.112-0.402-0.288-0.518-0.207-0.129-0.536-0.101-0.758-0.101h-0.634v1.303zm-443.5-80.063c-2.046-0.238-2.945-0.301-4.35-0.301-11.046 0-16.638 3.787-16.638 11.268 0 4.611 2.729 7.545 6.987 7.545 7.939 0 13.659-7.559 14.001-18.512zm14.171 32.996h-16.146l0.371-7.676c-4.926 6.065-11.496 8.949-20.426 8.949-10.563 0-17.804-8.25-17.804-20.229 0-18.024 12.596-28.541 34.217-28.541 2.208 0 5.042 0.199 7.941 0.57 0.604-2.441 0.763-3.488 0.763-4.801 0-4.908-3.396-6.737-12.5-6.737-9.533-0.108-17.396 2.271-20.625 3.333 0.204-1.229 2.7-16.659 2.7-16.659 9.712-2.846 16.116-3.917 23.325-3.917 16.732 0 25.596 7.513 25.579 21.712 0.033 3.805-0.597 8.5-1.579 14.671-1.691 10.734-5.32 33.721-5.816 39.325zm-62.158 0h-19.487l11.162-69.997-24.925 69.997h-13.279l-1.642-69.597-11.733 69.597h-18.242l15.237-91.056h28.021l1.7 50.968 17.092-50.968h31.167l-15.071 91.056m354.97-32.996c-2.037-0.238-2.941-0.301-4.342-0.301-11.041 0-16.634 3.787-16.634 11.268 0 4.611 2.726 7.545 6.983 7.545 7.94 0 13.664-7.559 13.993-18.512zm14.184 32.996h-16.146l0.366-7.676c-4.926 6.065-11.5 8.949-20.422 8.949-10.565 0-17.8-8.25-17.8-20.229 0-18.024 12.588-28.541 34.213-28.541 2.208 0 5.037 0.199 7.934 0.57 0.604-2.441 0.763-3.488 0.763-4.801 0-4.908-3.392-6.737-12.496-6.737-9.533-0.108-17.387 2.271-20.629 3.333 0.204-1.229 2.709-16.659 2.709-16.659 9.712-2.846 16.112-3.917 23.313-3.917 16.74 0 25.604 7.513 25.587 21.712 0.032 3.805-0.597 8.5-1.579 14.671-1.684 10.734-5.321 33.721-5.813 39.325zm-220.39-1.125c-5.333 1.679-9.491 2.398-14 2.398-9.962 0-15.399-5.725-15.399-16.267-0.142-3.271 1.433-11.88 2.671-19.737 1.125-6.917 8.449-50.529 8.449-50.529h19.371l-2.263 11.208h11.699l-2.642 17.796h-11.742c-2.25 14.083-5.454 31.625-5.491 33.95 0 3.816 2.037 5.483 6.671 5.483 2.221 0 3.94-0.227 5.254-0.7l-2.578 16.398m59.392-0.6c-6.654 2.034-13.075 3.017-19.879 3-21.684-0.021-32.987-11.346-32.987-33.032 0-25.313 14.38-43.947 33.899-43.947 15.971 0 26.171 10.433 26.171 26.796 0 5.429-0.7 10.729-2.388 18.212h-38.574c-1.305 10.741 5.57 15.217 16.837 15.217 6.935 0 13.188-1.429 20.142-4.663l-3.221 18.417zm-10.888-43.9c0.107-1.543 2.055-13.217-9.013-13.217-6.171 0-10.583 4.704-12.38 13.217h21.393zm-123.42-5.017c0 9.367 4.542 15.826 14.842 20.676 7.892 3.709 9.112 4.81 9.112 8.17 0 4.617-3.479 6.701-11.191 6.701-5.813 0-11.221-0.908-17.458-2.922 0 0-2.563 16.321-2.68 17.102 4.43 0.967 8.38 1.861 20.279 2.19 20.563 0 30.059-7.829 30.059-24.75 0-10.175-3.976-16.146-13.737-20.634-8.171-3.75-9.108-4.587-9.108-8.045 0-4.004 3.237-6.046 9.537-6.046 3.825 0 9.05 0.408 14 1.112l2.775-17.175c-5.046-0.8-12.696-1.442-17.15-1.442-21.801 1e-3 -29.347 11.388-29.28 25.063m229.09-23.116c5.412 0 10.458 1.421 17.412 4.921l3.188-19.763c-2.854-1.121-12.904-7.7-21.417-7.7-13.041 0-24.065 6.471-31.82 17.15-11.309-3.746-15.958 3.825-21.657 11.367l-5.063 1.179c0.383-2.483 0.729-4.95 0.612-7.446h-17.896c-2.445 22.917-6.778 46.128-10.171 69.075l-0.884 4.976h19.496c3.254-21.143 5.037-34.68 6.121-43.842l7.341-4.084c1.097-4.078 4.529-5.458 11.417-5.291-0.926 5.008-1.389 10.091-1.383 15.184 0 24.225 13.07 39.308 34.05 39.308 5.404 0 10.041-0.712 17.221-2.658l3.43-20.759c-6.458 3.181-11.759 4.677-16.559 4.677-11.329 0-18.184-8.363-18.184-22.185 0-20.051 10.196-34.109 24.746-34.109" />
                    <path
                        d="m185.21 297.24h-19.491l11.171-69.988-24.926 69.988h-13.283l-1.642-69.588-11.733 69.588h-18.241l15.237-91.042h28.021l0.788 56.362 18.904-56.362h30.267l-15.072 91.042"
                        fill="#ffffff" />
                    <path
                        d="m647.52 211.6l-4.321 26.309c-5.329-7.013-11.054-12.088-18.612-12.088-9.833 0-18.783 7.455-24.642 18.425-8.158-1.692-16.597-4.563-16.597-4.563l-4e-3 0.067c0.658-6.134 0.921-9.875 0.862-11.146h-17.9c-2.438 22.917-6.771 46.128-10.157 69.075l-0.893 4.976h19.492c2.633-17.096 4.648-31.291 6.133-42.551 6.658-6.016 9.992-11.266 16.721-10.916-2.979 7.205-4.725 15.503-4.725 24.017 0 18.513 9.366 30.725 23.533 30.725 7.142 0 12.621-2.462 17.967-8.171l-0.913 6.884h18.435l14.842-91.042-19.221-1e-3zm-24.371 73.941c-6.634 0-9.983-4.908-9.983-14.596 0-14.555 6.271-24.875 15.112-24.875 6.695 0 10.32 5.104 10.32 14.509 1e-3 14.679-6.37 24.962-15.449 24.962z" />
                    <path
                        d="m233.19 264.26c-2.042-0.236-2.946-0.299-4.346-0.299-11.046 0-16.634 3.787-16.634 11.266 0 4.604 2.729 7.547 6.979 7.547 7.947-1e-3 13.668-7.559 14.001-18.514zm14.178 32.984h-16.146l0.367-7.663c-4.921 6.054-11.5 8.95-20.421 8.95-10.567 0-17.805-8.25-17.805-20.229 0-18.032 12.592-28.542 34.217-28.542 2.208 0 5.042 0.2 7.938 0.571 0.604-2.441 0.763-3.487 0.763-4.808 0-4.909-3.392-6.729-12.496-6.729-9.537-0.108-17.396 2.271-20.629 3.321 0.204-1.225 2.7-16.637 2.7-16.637 9.708-2.858 16.12-3.929 23.32-3.929 16.737 0 25.604 7.517 25.588 21.704 0.029 3.821-0.604 8.513-1.584 14.675-1.687 10.724-5.319 33.724-5.812 39.316zm261.38-88.592l-3.191 19.767c-6.95-3.496-12-4.92-17.407-4.92-14.551 0-24.75 14.058-24.75 34.106 0 13.821 6.857 22.181 18.184 22.181 4.8 0 10.096-1.492 16.554-4.675l-3.421 20.75c-7.184 1.957-11.816 2.67-17.225 2.67-20.977 0-34.051-15.084-34.051-39.309 0-32.55 18.059-55.3 43.888-55.3 8.507 1e-3 18.561 3.609 21.419 4.73m31.443 55.608c-2.041-0.236-2.941-0.299-4.347-0.299-11.041 0-16.633 3.787-16.633 11.266 0 4.604 2.729 7.547 6.983 7.547 7.938-1e-3 13.663-7.559 13.997-18.514zm14.178 32.984h-16.15l0.371-7.663c-4.925 6.054-11.5 8.95-20.421 8.95-10.563 0-17.804-8.25-17.804-20.229 0-18.032 12.596-28.542 34.212-28.542 2.213 0 5.042 0.2 7.941 0.571 0.601-2.441 0.763-3.487 0.763-4.808 0-4.909-3.393-6.729-12.495-6.729-9.533-0.108-17.396 2.271-20.63 3.321 0.204-1.225 2.704-16.637 2.704-16.637 9.709-2.858 16.116-3.929 23.316-3.929 16.741 0 25.604 7.517 25.583 21.704 0.033 3.821-0.596 8.513-1.579 14.675-1.682 10.724-5.323 33.724-5.811 39.316zm-220.39-1.121c-5.338 1.679-9.496 2.408-14 2.408-9.962 0-15.399-5.726-15.399-16.268-0.138-3.279 1.438-11.88 2.675-19.736 1.12-6.926 8.445-50.534 8.445-50.534h19.368l-2.26 11.212h9.941l-2.646 17.788h-9.975c-2.25 14.092-5.463 31.62-5.496 33.95 0 3.83 2.041 5.482 6.671 5.482 2.221 0 3.938-0.216 5.254-0.691l-2.578 16.389m59.391-0.592c-6.65 2.033-13.079 3.012-19.879 3-21.685-0.021-32.987-11.346-32.987-33.033 0-25.321 14.379-43.95 33.899-43.95 15.971 0 26.171 10.429 26.171 26.8 0 5.434-0.7 10.733-2.384 18.212h-38.574c-1.306 10.741 5.569 15.222 16.837 15.222 6.93 0 13.188-1.435 20.138-4.677l-3.221 18.426zm-10.891-43.912c0.116-1.538 2.06-13.217-9.013-13.217-6.167 0-10.579 4.717-12.375 13.217h21.388zm-123.42-5.005c0 9.367 4.542 15.818 14.842 20.675 7.892 3.709 9.112 4.812 9.112 8.172 0 4.616-3.483 6.699-11.188 6.699-5.816 0-11.225-0.908-17.467-2.921 0 0-2.554 16.321-2.671 17.101 4.421 0.967 8.375 1.85 20.275 2.191 20.566 0 30.059-7.829 30.059-24.746 0-10.18-3.971-16.15-13.737-20.637-8.167-3.759-9.113-4.584-9.113-8.046 0-4 3.246-6.059 9.542-6.059 3.821 0 9.046 0.421 14.004 1.125l2.771-17.179c-5.042-0.8-12.692-1.441-17.146-1.441-21.804 0-29.346 11.379-29.283 25.066m398.45 50.63h-18.438l0.917-6.893c-5.347 5.717-10.825 8.18-17.968 8.18-14.166 0-23.528-12.213-23.528-30.726 0-24.63 14.521-45.392 31.708-45.392 7.559 0 13.279 3.087 18.604 10.096l4.325-26.308h19.221l-14.841 91.043zm-28.746-17.109c9.075 0 15.45-10.283 15.45-24.953 0-9.405-3.629-14.509-10.325-14.509-8.837 0-15.115 10.315-15.115 24.875-1e-3 9.686 3.357 14.587 9.99 14.587zm-56.842-56.929c-2.441 22.917-6.773 46.13-10.162 69.063l-0.892 4.976h19.491c6.972-45.275 8.658-54.117 19.588-53.009 1.742-9.267 4.982-17.383 7.399-21.479-8.163-1.7-12.721 2.913-18.688 11.675 0.471-3.788 1.333-7.467 1.162-11.225l-17.898-1e-3m-160.42 0c-2.446 22.917-6.779 46.13-10.167 69.063l-0.888 4.976h19.5c6.963-45.275 8.646-54.117 19.57-53.009 1.75-9.267 4.991-17.383 7.399-21.479-8.154-1.7-12.717 2.913-18.679 11.675 0.471-3.788 1.324-7.467 1.162-11.225l-17.897-1e-3m254.57 68.241c-4e-3 -3.199 2.586-5.795 5.784-5.799h0.012c3.197-4e-3 5.793 2.586 5.796 5.783v0.016c-1e-3 3.201-2.595 5.795-5.796 5.797-3.201-2e-3 -5.795-2.596-5.796-5.797zm5.796 4.405c2.431 2e-3 4.402-1.969 4.403-4.399v-4e-3c3e-3 -2.433-1.968-4.406-4.399-4.408h-4e-3c-2.435 1e-3 -4.407 1.974-4.408 4.408 2e-3 2.432 1.975 4.403 4.408 4.403zm-0.784-1.871h-1.188v-5.082h2.153c0.446 0 0.909 9e-3 1.296 0.254 0.417 0.283 0.654 0.767 0.654 1.274 0 0.575-0.337 1.112-0.888 1.317l0.941 2.236h-1.32l-0.779-2.009h-0.87l1e-3 2.01zm0-2.879h0.653c0.246 0 0.513 0.019 0.729-0.1 0.196-0.125 0.296-0.361 0.296-0.588-9e-3 -0.21-0.114-0.404-0.287-0.523-0.204-0.117-0.542-0.084-0.763-0.084h-0.629l1e-3 1.295z"
                        fill="#ffffff" />
                </svg>
            ',
            'eye_off' => '
                <svg class="eyes-icon show-tooltip eye-off" id="sendOtpBtn" data-bs-toggle="tooltip" data-color="primary-top" data-bs-placement="top" title="'. __('An OTP will be sent to your phone and email') .'" xmlns="http://www.w3.org/2000/svg" width="800" height="800" viewBox="0 0 800 800" fill="none">
                    <path
                        d="M675.001 700.001C671.717 700.006 668.465 699.361 665.432 698.103C662.399 696.846 659.645 695 657.329 692.672L107.329 142.672C102.838 137.946 100.372 131.652 100.455 125.133C100.539 118.614 103.165 112.385 107.775 107.775C112.385 103.165 118.614 100.539 125.133 100.455C131.652 100.372 137.946 102.838 142.672 107.329L692.672 657.329C696.166 660.825 698.546 665.278 699.509 670.126C700.473 674.974 699.978 679.999 698.087 684.566C696.195 689.133 692.993 693.036 688.884 695.784C684.775 698.531 679.943 699.998 675.001 700.001Z"
                        fill="#E6E6E6" />
                    <path
                        d="M387.499 493.515L306.577 412.594C306.114 412.134 305.518 411.831 304.873 411.727C304.228 411.623 303.567 411.724 302.983 412.016C302.398 412.307 301.92 412.774 301.614 413.352C301.309 413.929 301.192 414.587 301.281 415.234C304.547 436.228 314.405 455.64 329.429 470.664C344.453 485.688 363.864 495.545 384.859 498.812C385.506 498.9 386.164 498.784 386.741 498.478C387.319 498.173 387.786 497.695 388.077 497.11C388.368 496.526 388.469 495.865 388.366 495.22C388.262 494.575 387.959 493.979 387.499 493.515Z"
                        fill="#E6E6E6" />
                    <path
                        d="M412.5 306.484L493.547 387.499C494.009 387.966 494.607 388.274 495.255 388.382C495.903 388.489 496.568 388.389 497.156 388.097C497.744 387.805 498.226 387.334 498.531 386.753C498.837 386.172 498.952 385.509 498.859 384.859C495.601 363.836 485.736 344.396 470.693 329.353C455.65 314.31 436.21 304.446 415.187 301.187C414.536 301.086 413.87 301.194 413.284 301.495C412.698 301.796 412.222 302.274 411.924 302.861C411.626 303.449 411.521 304.115 411.625 304.766C411.728 305.417 412.034 306.018 412.5 306.484Z"
                        fill="#E6E6E6" />
                    <path
                        d="M767.188 427.125C772.361 419.006 775.095 409.573 775.068 399.946C775.04 390.319 772.251 380.902 767.031 372.813C725.688 308.875 672.047 254.563 611.922 215.734C545.313 172.734 471.875 150 399.5 150C361.346 150.052 323.45 156.273 287.281 168.422C286.269 168.759 285.36 169.349 284.64 170.136C283.92 170.924 283.414 171.882 283.17 172.921C282.926 173.959 282.951 175.043 283.244 176.069C283.537 177.095 284.088 178.028 284.844 178.781L358.656 252.594C359.423 253.362 360.377 253.917 361.423 254.205C362.47 254.493 363.573 254.503 364.625 254.234C389.645 248.137 415.813 248.584 440.61 255.532C465.406 262.479 487.997 275.694 506.206 293.903C524.415 312.113 537.63 334.703 544.578 359.5C551.526 384.297 551.972 410.465 545.875 435.484C545.61 436.534 545.621 437.634 545.909 438.678C546.196 439.721 546.75 440.672 547.516 441.437L653.688 547.687C654.792 548.794 656.271 549.446 657.833 549.516C659.395 549.585 660.927 549.067 662.125 548.063C702.994 513.228 738.408 472.462 767.188 427.125Z"
                        fill="#E6E6E6" />
                    <path
                        d="M400 549.999C377.293 550 354.882 544.846 334.457 534.926C314.031 525.005 296.125 510.576 282.088 492.728C268.05 474.88 258.248 454.077 253.421 431.889C248.593 409.701 248.866 386.707 254.219 364.64C254.484 363.59 254.472 362.49 254.185 361.446C253.897 360.403 253.344 359.452 252.578 358.687L148.141 254.202C147.033 253.094 145.55 252.441 143.984 252.375C142.418 252.308 140.885 252.832 139.687 253.843C101.578 286.359 66.2499 325.921 33.953 372.155C28.2997 380.27 25.1861 389.881 25.0081 399.769C24.83 409.657 27.5955 419.374 32.953 427.687C74.2187 492.265 127.312 546.655 186.516 584.952C253.219 628.124 324.875 649.999 399.5 649.999C438.039 649.896 476.329 643.808 513 631.952C514.021 631.626 514.942 631.042 515.672 630.258C516.403 629.473 516.919 628.513 517.172 627.471C517.425 626.429 517.405 625.34 517.115 624.308C516.825 623.275 516.274 622.335 515.516 621.577L441.344 547.421C440.578 546.655 439.627 546.102 438.584 545.814C437.54 545.527 436.44 545.515 435.391 545.78C423.803 548.588 411.923 550.004 400 549.999Z"
                        fill="#E6E6E6" />
                </svg>
            ',
            'eye_on' => '
                <svg class="eyes-icon show-tooltip eye-on d-none mt-1" id="sendOtpBtn" data-bs-toggle="tooltip" data-color="primary-top" data-bs-placement="top" xmlns="http://www.w3.org/2000/svg" width="800" height="436" viewBox="0 0 800 436" fill="none">
                    <path
                        d="M400 435.688C310.039 435.688 213.219 400.506 120.007 333.942C50.3267 284.184 7.31879 234.887 5.52167 232.809C-1.84056 224.308 -1.84056 211.691 5.52167 203.188C7.31879 201.114 50.3249 151.814 120.007 102.055C213.221 35.4965 310.041 0.310547 400 0.310547C489.961 0.310547 586.783 35.4947 679.993 102.055C749.673 151.814 792.681 201.112 794.478 203.188C801.841 211.689 801.841 224.307 794.478 232.809C792.681 234.883 749.675 284.184 679.993 333.942C586.783 400.504 489.963 435.688 400 435.688ZM53.6386 218.001C71.0307 235.735 103.855 266.92 147.194 297.761C206.609 340.039 298.699 390.444 400 390.444C501.301 390.444 593.392 340.039 652.806 297.761C696.14 266.925 728.966 235.737 746.361 218.001C728.971 200.267 696.145 169.083 652.806 138.242C593.392 95.9616 501.301 45.5589 400 45.5589C298.699 45.5589 206.609 95.9616 147.194 138.242C103.86 169.077 71.0343 200.262 53.6386 218.001Z"
                        fill="#E6E6E6" />
                    <path
                        d="M400.001 358.26C322.661 358.26 259.742 295.339 259.742 218.001C259.742 140.663 322.661 77.7422 400.001 77.7422C434.014 77.7422 466.826 90.0741 492.387 112.468C501.785 120.701 502.73 134.993 494.497 144.391C486.265 153.79 471.971 154.733 462.575 146.502C445.266 131.337 423.041 122.987 399.999 122.987C347.608 122.987 304.985 165.611 304.985 218.001C304.985 270.391 347.608 313.015 399.999 313.015C452.393 313.015 495.013 270.391 495.013 218.001C495.013 205.508 505.143 195.379 517.636 195.379C530.129 195.379 540.258 205.508 540.258 218.001C540.262 295.339 477.341 358.26 400.001 358.26Z"
                        fill="#E6E6E6" />
                    <path
                        d="M400.001 263.245C375.053 263.245 354.756 242.949 354.756 218.001C354.756 193.053 375.053 172.756 400.001 172.756C424.95 172.756 445.245 193.053 445.245 218.001C445.245 242.949 424.95 263.245 400.001 263.245Z"
                        fill="#E6E6E6" />
                </svg>
            ',
            'loader' => '
                <svg class="loaderIcon d-none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 800" fill="none" width="40px" height="40px">
                    <g clip-path="url(#clip0_19895_13302)">
                        <path
                            d="M236.363 400C236.363 379.918 220.082 363.637 200 363.637H54.5453C34.4629 363.637 18.1816 379.918 18.1816 400C18.1816 420.083 34.4629 436.364 54.5453 436.364H200C220.082 436.364 236.363 420.083 236.363 400Z"
                            fill="#E6E6E6" />
                        <path
                            d="M745.454 363.637H672.727C652.644 363.637 636.363 379.918 636.363 400C636.363 420.083 652.644 436.364 672.727 436.364H745.454C765.537 436.364 781.818 420.083 781.818 400C781.818 379.918 765.537 363.637 745.454 363.637Z"
                            fill="#E6E6E6" />
                        <path
                            d="M418.182 218.182C438.264 218.182 454.546 201.901 454.546 181.818V36.3636C454.546 16.2812 438.264 0 418.182 0C398.1 0 381.818 16.2812 381.818 36.3636V181.818C381.818 201.901 398.1 218.182 418.182 218.182Z"
                            fill="#E6E6E6" />
                        <path
                            d="M418.184 581.816C398.102 581.816 381.82 598.098 381.82 618.18V763.635C381.82 783.717 398.102 799.998 418.184 799.998C438.266 799.998 454.548 783.717 454.548 763.635V618.18C454.548 598.098 438.266 581.816 418.184 581.816Z"
                            fill="#E6E6E6" />
                        <path
                            d="M186.764 117.156C172.568 102.955 149.542 102.957 135.338 117.156C121.137 131.357 121.137 154.38 135.338 168.581L238.192 271.437C245.292 278.538 254.599 282.089 263.903 282.089C273.208 282.089 282.517 278.538 289.615 271.44C303.816 257.238 303.816 234.215 289.615 220.014L186.764 117.156Z"
                            fill="#E6E6E6" />
                        <path
                            d="M598.171 528.567C583.972 514.368 560.947 514.368 546.746 528.567C532.544 542.768 532.547 565.791 546.746 579.993L649.601 682.843C656.702 689.944 666.009 693.493 675.315 693.493C684.622 693.493 693.929 689.942 701.027 682.843C715.228 668.642 715.228 645.619 701.027 631.418L598.171 528.567Z"
                            fill="#E6E6E6" />
                        <path
                            d="M238.191 528.569L135.34 631.42C121.139 645.621 121.139 668.644 135.34 682.845C142.441 689.946 151.748 693.495 161.054 693.495C170.361 693.495 179.668 689.946 186.766 682.845L289.617 579.994C303.818 565.793 303.818 542.77 289.617 528.569C275.416 514.368 252.39 514.368 238.191 528.569Z"
                            fill="#E6E6E6" />
                    </g>
                    <defs>
                        <clipPath id="clip0_19895_13302">
                            <rect width="800" height="800" fill="white" />
                        </clipPath>
                    </defs>
                </svg>
            ',
            'topup_icon' => '
                <svg class="w-30px h-30px color-icon" xmlns="http://www.w3.org/2000/svg" width="800px" height="800px" viewBox="0 0 24 24" fill="none">
                    <path d="M19 20V14M19 14L21 16M19 14L17 16" stroke="currentColor" stroke-width="1.5"
                        stroke-linecap="round" stroke-linejoin="round" />
                    <path
                        d="M22 12C22 8.22876 22 6.34315 20.8284 5.17157C19.6569 4 17.7712 4 14 4M14 20H10C6.22876 20 4.34315 20 3.17157 18.8284C2 17.6569 2 15.7712 2 12C2 8.22876 2 6.34315 3.17157 5.17157C4.34315 4 6.22876 4 10 4"
                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                    <path d="M10 16H6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                    <path d="M13 16H12.5" stroke="currentColor" stroke-width="1.5"
                        stroke-linecap="round" />
                    <path d="M2 10L7 10M22 10L11 10" stroke="currentColor" stroke-width="1.5"
                        stroke-linecap="round" />
                </svg>
            ',
            'withdraw_icon' => '
                <svg class="w-30px h-30px color-icon" xmlns="http://www.w3.org/2000/svg" width="800px" height="800px" viewBox="0 0 24 24" fill="none">
                    <path d="M19 14V20M19 20L21 18M19 20L17 18" stroke="currentColor" stroke-width="1.5"
                        stroke-linecap="round" stroke-linejoin="round" />
                    <path
                        d="M22 12C22 8.22876 22 6.34315 20.8284 5.17157C19.6569 4 17.7712 4 14 4M14 20H10C6.22876 20 4.34315 20 3.17157 18.8284C2 17.6569 2 15.7712 2 12C2 8.22876 2 6.34315 3.17157 5.17157C4.34315 4 6.22876 4 10 4"
                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                    <path d="M10 16H6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                    <path d="M13 16H12.5" stroke="currentColor" stroke-width="1.5"
                        stroke-linecap="round" />
                    <path d="M2 10L7 10M22 10L11 10" stroke="currentColor" stroke-width="1.5"
                        stroke-linecap="round" />
                </svg>
            ',
        ];

        return $icons[$brand];
    }
}

if (!function_exists('formatCardExpiryDate')) {
    /**
     * Format date as 02/29
     *
     * @param  ?int $expiryMonth
     * @param  ?int $expiryYear
     * @return string
     */
    function formatCardExpiryDate(?int $expiryMonth, ?int $expiryYear): string
    {
        return $expiryMonth && $expiryYear 
            ? sprintf("%02d/%02d", $expiryMonth, $expiryYear % 100) 
            : '-';
    }
}

if (!function_exists('getVirtualcardProviderId')) {
    /**
     * Retrieves the ID of a virtual card provider based on its name.
     *
     * @param string $providerName The name of the virtual card provider.
     * @return int|null The provider ID if found, null otherwise.
     */
    function getVirtualcardProviderId(string $providerName): ?int
    {
        $provider = \Modules\Virtualcard\Entities\VirtualcardProvider::where('name', $providerName)->first();
        return $provider ? $provider->id : null;
    }
}

if (!function_exists('getVirtualcardCategoryId')) {
    /**
     * Retrieves the ID of a virtual card category based on its name.
     *
     * @param string $categoryName The name of the virtual card category.
     * @return int|null The category ID if found, null otherwise.
     */
    function getVirtualcardCategoryId(string $categoryName): ?int
    {
        $category = \Modules\Virtualcard\Entities\VirtualcardCategory::where('name', $categoryName)->first();
        return $category ? $category->id : null;
    }
}

if (!function_exists('getVirtualcardId')) {
    /**
     * Retrieves the ID of a virtual card based on its card number.
     *
     * @param string $virtualcardNumber The virtual card number.
     * @return int|null The virtual card ID if found, null otherwise.
     */
    function getVirtualcardId(string $virtualcardNumber): ?int
    {
        $virtualcard = \Modules\Virtualcard\Entities\Virtualcard::where('card_number', $virtualcardNumber)->first();
        return $virtualcard ? $virtualcard->id : null;
    }
}