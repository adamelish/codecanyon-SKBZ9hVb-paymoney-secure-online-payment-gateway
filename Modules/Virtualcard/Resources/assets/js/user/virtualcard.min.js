"use strict";if($(".main-containt").find("#VirtualcardCreate").length){function e(e,t){fetch(cardCreationFeeUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_token:_token,preferredCurrency:e,cardHolderId:t})}).then((e=>e.json())).then((e=>{e.success?($("#cardCreationFee").text(e.message),$("#virtualcardFormSubmitBtn").removeClass("d-none"),$("#preferredCurrencyEmpty").addClass("d-none")):(""!=e.message?$("#cardCreationFee").text(e.message):$("#preferredCurrencyEmpty").removeClass("d-none"),$("#virtualcardFormSubmitBtn").addClass("d-none"))})).finally((()=>{$("#virtualcardFormSubmitBtnText").text(buttonText),$(".spinner").addClass("d-none"),$("#virtualcardFormSubmitBtn").attr("disabled",!1)}))}$((function(){e($("#preferredCurrency option:first").val(),$("#virtualcardHolderId option:first").val()),$("#virtualcardHolderId").select2({templateResult:function(e){if(!e.id)return e.text;let t=$(e.element).data("name"),r=$(e.element).data("address");return`<div>${t} <br> <small>${r}</small></div>`},templateSelection:function(e){return e.id?$(e.element).data("name"):e.text},escapeMarkup:function(e){return e}})})),$("#preferredCurrency").on("change",(function(){e($(this).val(),$("#virtualcardHolderId").val())})),$("#virtualcardHolderId").on("change",(function(){e($("#preferredCurrency").val(),$(this).val())})),$(document).on("submit","#virtualcardForm",(function(){$("#virtualcardFormSubmitBtn").attr("disabled",!0),$(".spinner").removeClass("d-none"),$("#virtualcardFormSubmitBtnText").text(submitBtnText)}))}$(".main-containt").find("#VirtualcardIndex").length&&($((function(){$(".filter-panel").css("display","block")})),document.querySelector("#virtualcardForm").addEventListener("submit",(function(e){e.preventDefault();const t=new URLSearchParams(new FormData(this)),r=`${filterUrl}?${t.toString().replace(/%5B/g,"[").replace(/%5D/g,"]")}`;window.location.href=r})));