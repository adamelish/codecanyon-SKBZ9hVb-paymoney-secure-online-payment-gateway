"use strict";let providerId=null;function restrictNumberToPrefdecimalOnInput(e){var r=$("select#currencyCode").find(":selected").data("type");restrictNumberToPrefdecimal(e,r)}function getProviderCurrencies(e){$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"GET",url:ADMIN_URL+"/virtualcard/providers/"+e+"/get-currencies",data:{},dataType:"json",success:function(e){let r="";$.each(e.currencies,((e,t)=>{r+=`<option value="${t.code}" data-type="${t.type}">${t.code}</option>`})),$("#currencyCode").html(r)}})}$(window).on("load",(function(){providerId=$("#virtualcardProviderId").val(),getProviderCurrencies(providerId)})),$("#virtualcardProviderId").on("change",(function(){providerId=$(this).val(),getProviderCurrencies(providerId)})),$(document).ready((function(){const e=$("#cardNumber"),r=$("#cardLogo");e.on("input",(function(){let t=e.val().replace(/\D/g,"");t=t.replace(/(.{4})/g,"$1 ").trim(),e.val(t);const n=function(e){const r={visa:/^4/,mastercard:/^5[1-5]/,amex:/^3[47]/,discover:/^6(?:011|5)/,diners:/^3(?:0[0-5]|[68])/,jcb:/^(?:2131|1800|35)/,unionpay:/^(62)/};for(const[t,n]of Object.entries(r))if(n.test(e))return t;return""}(t.replace(/\s/g,""));n&&logoUrls[n]?(r.attr("src",logoUrls[n]).show(),e.css("padding-left","55px")):(r.hide(),e.css("padding-left","15px"))}))})),$("#cardExpiryDate").daterangepicker({singleDatePicker:!0,locale:{format:"DD-M-YYYY"}}),$(document).on("submit","#virtualCardIssueForm",(function(){$("#virtualCardIssueBtn").attr("disabled",!0),$(".fa-spinner").removeClass("d-none"),$("#virtualCardIssueBtnText").text(submitButtonText)})),document.getElementById("cardCvc").addEventListener("input",(function(e){this.value=this.value.replace(/\D/g,""),this.value.length>4&&(this.value=this.value.slice(0,4))}));