"use strict";function restrictNumberToPrefdecimalOnInput(e){var a=$("#type").val();restrictNumberToPrefdecimal(e,a)}function formatNumberToPrefDecimal(e=0){return e=Math.abs(e).toFixed(decimalFormat)}function getFeesLimitDetails(){var e=$("#currency_id").val(),a=$("#defaultCurrency").val(),t=$("#transaction_type").val(),i=ADMIN_URL+"/settings/get-feeslimit-details";$.ajax({url:i,type:"post",data:{currency_id:e,transaction_type:t,_token:csrfToken},dataType:"json",success:function(e){200==e.status&&(e=e.feeslimit,1==a?($(".defaultCurrencyDiv").show(),$(".default_currency_label").html(isActivated),$(".default_currency_side_text").text(defaultCurrencyActive),$(".has_transaction").prop("checked",!0).prop("disabled",!0).val("Yes")):($(".defaultCurrencyDiv").hide(),$(".default_currency_label").html(isActivated),$(".default_currency_side_text").text(""),$(".has_transaction").prop("checked",!1).removeAttr("disabled").val("")),$.each(e,function(e,a){null!=a.fees_limit?($("#min_limit_"+a.id).val(formatNumberToPrefDecimal(a.fees_limit.min_limit)),null!=a.fees_limit.max_limit?$("#max_limit_"+a.id).val(formatNumberToPrefDecimal(a.fees_limit.max_limit)):$("#max_limit_"+a.id).val(""),$("#charge_percentage_"+a.id).val(formatNumberToPrefDecimal(a.fees_limit.charge_percentage)),$("#charge_fixed_"+a.id).val(formatNumberToPrefDecimal(a.fees_limit.charge_fixed)),$("#has_transaction_"+a.id).val(a.fees_limit.has_transaction),"Yes"==a.fees_limit.has_transaction?($("#has_transaction_"+a.id).prop("checked",!0),$("#min_limit_"+a.id+", #max_limit_"+a.id+", #charge_percentage_"+a.id+", #charge_fixed_"+a.id).prop("readonly",!1)):($("#has_transaction_"+a.id).prop("checked",!1),$("#min_limit_"+a.id+", #max_limit_"+a.id+", #charge_percentage_"+a.id+", #charge_fixed_"+a.id).prop("readonly",!0))):($("#min_limit_"+a.id).val(formatNumberToPrefDecimal("1.00000000")),$("#max_limit_"+a.id).val(""),$("#charge_percentage_"+a.id).val(formatNumberToPrefDecimal("0.00000000")),$("#charge_fixed_"+a.id).val(formatNumberToPrefDecimal("0.00000000")),$("#has_transaction_"+a.id).prop("checked",!1),$("#min_limit_"+a.id+", #max_limit_"+a.id+", #charge_percentage_"+a.id+", #charge_fixed_"+a.id).prop("readonly",!0))}))},error:function(e){Swal.fire(failedText,JSON.parse(e.responseText).message,"error")}})}function getSpecificCurrencyDetails(){var e=$("#currency_id").val(),t=$("#defaultCurrency").val(),a=$("#transaction_type").val(),i=ADMIN_URL+"/settings/get-specific-currency-details";$.ajax({url:i,type:"post",data:{currency_id:e,transaction_type:a,_token:csrfToken},dataType:"json",success:function(e){var a;200==e.status?(a=e.feeslimit,1==t?($(".defaultCurrencyDiv").show(),$(".default_currency_label").html(isActivated),$(".default_currency_side_text").text(defaultCurrencyActive),$(".has_transaction").prop("checked",!0),$("#has_transaction").attr("disabled",!0).val("Yes"),$("#min_limit, #max_limit, #charge_percentage, #charge_fixed").prop("readonly",!1)):($(".defaultCurrencyDiv").hide(),$(".default_currency_label").html(isActivated),$(".default_currency_side_text").hide(),$("#has_transaction").prop("checked",!1).removeAttr("disabled"),$(".has_transaction").val("No"),$("#min_limit, #max_limit, #charge_percentage, #charge_fixed").prop("readonly",!0)),$.each(a,function(e,a){null!=a.fees_limit?($("#min_limit_"+a.id).val(formatNumberToPrefDecimal(a.fees_limit.min_limit)),null!=a.fees_limit.max_limit?$("#max_limit_"+a.id).val(formatNumberToPrefDecimal(a.fees_limit.max_limit)):$("#max_limit_"+a.id).val(""),$("#charge_percentage_"+a.id).val(formatNumberToPrefDecimal(a.fees_limit.charge_percentage)),$("#charge_fixed_"+a.id).val(formatNumberToPrefDecimal(a.fees_limit.charge_fixed)),$("#has_transaction_"+a.id).val(a.fees_limit.has_transaction),"Yes"==a.fees_limit.has_transaction?($("#has_transaction_"+a.id).prop("checked",!0),$("#min_limit_"+a.id+", #max_limit_"+a.id+", #charge_percentage_"+a.id+", #charge_fixed_"+a.id).prop("readonly",!1)):($("#has_transaction_"+a.id).prop("checked",!1),$("#min_limit_"+a.id+", #max_limit_"+a.id+", #charge_percentage_"+a.id+", #charge_fixed_"+a.id).prop("readonly",!0))):($("#min_limit_"+a.id).val(formatNumberToPrefDecimal("1.00000000")),$("#max_limit_"+a.id).val(""),$("#charge_percentage_"+a.id).val(formatNumberToPrefDecimal("0.00000000")),$("#charge_fixed_"+a.id).val(formatNumberToPrefDecimal("0.00000000")),$("#has_transaction_"+a.id).prop("checked",!1),$("#min_limit_"+a.id+", #max_limit_"+a.id+", #charge_percentage_"+a.id+", #charge_fixed_"+a.id).prop("readonly",!0))})):(1==t?($(".defaultCurrencyDiv").show(),$(".default_currency_label").html(isActivated),$(".default_currency_side_text").text(defaultCurrencyActive),$("#has_transaction").removeAttr("disabled")):($(".defaultCurrencyDiv").hide(),$(".default_currency_label").html(isActivated),$(".default_currency_side_text").text("")),$("#id").val(""),$(".currencyName").text(e.currency.name),$("#currency_id").val(e.currency.id),$(".has_transaction").prop("checked",!1),$(".has_transaction").val("No"),$(".min_limit").val("1.00000000"),$(".max_limit").val(""),$(".charge_percentage").val("0"),$(".charge_fixed").val("0"))},error:function(e){Swal.fire(failedText,JSON.parse(e.responseText).message,"error")}})}1==$("#defaultCurrency").val()?$(".defaultCurrencyDiv").show():$(".defaultCurrencyDiv").hide(),$("#deposit_limit_form").on("submit",function(){$(".fa-spinner").removeClass("d-none"),$("#deposit_limit_update").attr("disabled",!0),$("#deposit_limit_update_text").text(depositLimitUpdateText)}),$(".has_transaction").on("click",function(){var e=$(this).data("method_id");1==$("#has_transaction_"+e).prop("checked")?($("#has_transaction_"+e).val("Yes"),$("#min_limit_"+e+", #max_limit_"+e+", #charge_percentage_"+e+", #charge_fixed_"+e).prop("readonly",!1)):($("#has_transaction_"+e).val(""),$("#min_limit_"+e+", #max_limit_"+e+", #charge_percentage_"+e+", #charge_fixed_"+e).prop("readonly",!0))}),$(window).on("load",function(){document.referrer==ADMIN_URL+"/settings/currency"?(localStorage.removeItem("currencyId"),localStorage.removeItem("currencyName"),localStorage.removeItem("defaultCurrency")):localStorage.getItem("currencyName")&&localStorage.getItem("currencyId")&&localStorage.getItem("defaultCurrency")?($(".currencyName").text(localStorage.getItem("currencyName")),$("#currency_id").val(localStorage.getItem("currencyId")),$("#defaultCurrency").val(localStorage.getItem("defaultCurrency")),getFeesLimitDetails()):getSpecificCurrencyDetails()}),$(".listItem").on("click",function(){var e=$(this).attr("data-rel"),a=$(this).attr("data-type"),t=$(this).text(),i=$(this).attr("data-default");1==i?$(".defaultCurrencyDiv").show():$(".defaultCurrencyDiv").hide(),localStorage.setItem("currencyId",e),localStorage.setItem("currencyName",t),localStorage.setItem("defaultCurrency",i),$(".currencyName").text(t),$("#currency_id").val(e),$("#type").val(a),$("#defaultCurrency").val(i),getFeesLimitDetails()});